#!/Users/Stomp/.rvm/rubies/ruby-2.0.0-p195/bin/ruby
require File.join(File.dirname(__FILE__),'../lib/pso_binary_type1')
require "/Users/Stomp/Development/Ruby/nrp/nrp"

@nrp_test_path = "/Users/Stomp/Development/Ruby/nrp/nrp-tests/"
@nrp = NRP.new :path => @nrp_test_path << 'nrp2.txt', :ratio => 0.7
PSO.max_velocity = 2.0
PSO.min_velocity = -2.0
@pso = PSO_Binary_Type1.new(20,@nrp.customers.size,@nrp.method(:fitness))

def maximum_weight()
  @nrp.weight(Array.new(@nrp.customers.size,1))
end
puts "number of customers = #{@nrp.customers.size}"
puts "maximum weight = #{maximum_weight}"

100.times do 
  @pso.explore!
end

puts "best = #{@pso.g_best.value}"
